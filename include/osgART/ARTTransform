/*
 *	osgART/ARTTransform
 *	osgART: AR ToolKit for OpenSceneGraph
 *
 *	Copyright (c) 2005-2007 ARToolworks, Inc. All rights reserved.
 *	
 *	Rev		Date		Who		Changes
 *  1.0   	2006-12-08  ---     Version 1.0 release.
 *
 */
// @@OSGART_LICENSE_HEADER_BEGIN@@
// @@OSGART_LICENSE_HEADER_END@@

#ifndef OSGART_ARTTRANSFORM
#define OSGART_ARTTRANSFORM 1

#include "osgART/Export"
#include "osgART/Marker"

#include <osg/MatrixTransform>

namespace osgART {

	/**
	 * Wrapper for AR Toolkit transformation. This class exposes the 
	 * model matrix of AR Toolkit as a transform node for OpenSceneGraph.
	 */
	class OSGART_EXPORT ARTTransform : public osg::MatrixTransform
	{
	public:
	
		/** 
		 * \brief default constructor.
		 * The default constructor. This transformation is automatically updated by
		 * the actual position of the marker choosed in argument.
		 * \param marker ??Doc must be updated?? yoa10
		 * \param markerID the Marker identification.
		 * \param trackerId the Tracker identification.
		 */		
		ARTTransform(Marker *marker = 0L);
	
		/**
		 * Copy constructor. 
		 * \param trans transform to copy from
		 * \param copyop depth of the copy
		 * 
		 */
		ARTTransform(const ARTTransform& trans, 
			const osg::CopyOp& copyop=osg::CopyOp::SHALLOW_COPY);

	
		META_Node(osgART, ARTTransform)

	
		/** 
		 * Assignment operator.
		 *
		 */
		ARTTransform& operator=(const ARTTransform &);
	    

		/**
		 * Returns the associated marker.
		 * \return instance of the marker associated with this Transform
		 */
		Marker* getMarker();
		
	protected:
	
		/** 
		 * Destructor.
		 */
		virtual ~ARTTransform();
		

	private:

		osg::ref_ptr<Marker> m_marker;

	};

};

#endif // !defined ARTTransform_h
