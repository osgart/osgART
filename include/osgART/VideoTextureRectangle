/*
 *	osgART/VideoTextureRectangle
 *	osgART: AR ToolKit for OpenSceneGraph
 *
 *	Copyright (c) 2005-2007 ARToolworks, Inc. All rights reserved.
 *	
 *	Rev		Date		Who		Changes
 *  1.0   	2006-12-08  ---     Version 1.0 release.
 *
 */
// @@OSGART_LICENSE_HEADER_BEGIN@@
// @@OSGART_LICENSE_HEADER_END@@

#ifndef OSGART_VIDEOTEXTURERECTANGLE
#define OSGART_VIDEOTEXTURERECTANGLE

// OpenSceneGraph includes
#include <osg/ShapeDrawable>
#include <osg/Geometry>
#include <osg/TextureRectangle>
#include <osg/Texture2D>

// local include
#include "osgART/Export"
#include "osgART/GenericVideo"
#include "osgART/VideoTextureBase"

namespace osgART {

	/** 
	 * \class VideoTextureRectangle.
	 *
     */
	class OSGART_EXPORT VideoTextureRectangle : 
		public osg::TextureRectangle, 
		public VideoTextureBase 
	{

	public:
	 
		/**
		 * Default constructor.
		 * \param video ID of the video been attached to the texture.
		 */
		VideoTextureRectangle(GenericVideo* video = 0L);
		
				

	protected:
	
		int m_vidWidth;		//!< actual video width
		int m_vidHeight;	//!< actual video height
		
		// keep a reference to the callback for subload
		osg::ref_ptr<TextureRectangle::SubloadCallback> m_callback;
		
		
		/**
		 * Destructor.
		 */
		virtual ~VideoTextureRectangle();    
	};

}

#endif
