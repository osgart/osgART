/*
 *	osgART/ARSceneNode
 *	osgART: AR ToolKit for OpenSceneGraph
 *
 *	Copyright (c) 2005-2007 ARToolworks, Inc. All rights reserved.
 *	
 *	Rev		Date		Who		Changes
 *  1.0   	2006-12-08  ---     Version 1.0 release.
 *
 */
// @@OSGART_LICENSE_HEADER_BEGIN@@
// @@OSGART_LICENSE_HEADER_END@@

#ifndef OSGART_ARSCENENODE
#define OSGART_ARSCENENODE 1


#include <osg/Group>

#include "osgART/Export"
#include "osgART/GenericVideo"
#include "osgART/GenericTracker"

#include <map>
#include <deque>


namespace osgART 
{

	class ARSceneNodeCallback;

	class OSGART_EXPORT ARSceneNode : public osg::Group
	{
	public:
	
		typedef std::map<GenericTracker*, GenericVideo*> ConnectionMap;
		typedef std::deque<GenericVideo*>  VideoMap;
	
		ARSceneNode();
		
        ARSceneNode(const ARSceneNode&, 
			const osg::CopyOp& copyop = osg::CopyOp::SHALLOW_COPY);
		
		META_Node(osgART,ARSceneNode)
		
		void add(GenericVideo* video);		
		
		bool connect(GenericTracker* tracker,
			GenericVideo* video);
		
	protected:
	
		friend class ARSceneNodeCallback;
		
		ConnectionMap _connectionmap;
		VideoMap _videomap;
		
		virtual ~ARSceneNode();

	};
	
	
}



#endif